RootNode:
    BaseYaml: ../../../CommonForms/PetraForm.yaml
    FormTitle: Accounts Payable
    Namespace: Ict.Petra.Client.MFinance.Gui.AP
    FormType: browse
    Template: windowFind
    WindowWidth: 754
    WindowHeight: 623
    Events:
        Closed: {class=System.EventHandler, method=Form_Closed}
    Actions:
        cndSelectedSupplier: {InitialValue=false}
        actShowInvoice:
            ActionClick: ShowInvoice
        actSearch:
            Label: &Search
            ActionClick: DoSearch
        actNewSupplier:
            Label: &New Supplier
            ActionClick: NewSupplier
            Tooltip: Create a new supplier
            ShortCut: Ctrl+N
        actEditSupplier:
            Label: &Edit Supplier
            ActionClick: EditSupplier
            Tooltip: Change the details and settings of an existing supplier
            ShortCut: Ctrl+E
            Enabled: cndSelectedSupplier
        actSupplierTransactions:
            Label: &Open Transactions
            ActionClick: SupplierTransactions
            Tooltip: Open the transactions of the supplier
            ShortCut: Ctrl+O
            Enabled: cndSelectedSupplier
        actCreateInvoice:
            Label: Create &Invoice
            ShortCut: Ctrl+I
            ActionClick: CreateInvoice
            Enabled: cndSelectedSupplier
        actCreateCreditNote:
            Label: Create C&redit Note
            ShortCut: Ctrl+R
            ActionClick: CreateCreditNote
            Enabled: cndSelectedSupplier
        actFindInvoice:
            Label: &Find Invoice...
            ShortCut: Ctrl+F
        actPostSelected:
            Enabled: cndCanPost
            ActionClick: PostAllTagged
        actPaySelected:
            Enabled: cndCanPay
            ActionClick: PayAllTagged
        actReverseTagged:
            Enabled: cndCanReverse
            ActionClick: ReverseAllTagged
        actDeleteSelected:
            Enabled: cndCanDelete
            ActionClick: DeleteAllTagged
        actTagAllPostable:
            ActionClick: TagAllPostable
        actTagAllPayable:
            ActionClick: TagAllPayable
        actUntagAll:
            ActionClick: UntagAll
        actTabChange:
            ActionClick: TabChange

    Controls:
        pnlContent:
            Dock: Fill
            Controls: [pnlDockSupplierCode, pnlSearchFilter, pnlSearchButtons, tabSearchResult]
        pnlDockSupplierCode:
            Controls: [cmbSupplierCode]
            Dock: Top
            Margin: 0
        cmbSupplierCode: {Label=S&earch Supplier, AutoComplete=SupplierSearchHistory, Tooltip=Search by supplier name or partner key}
        pnlSearchFilter:
            Dock: Top
            Margin: 0
            Controls: [chkDueToday, chkOverdue, chkDueFuture]
            ControlsOrientation: horizontal
        chkDueToday: {OnChange=SetDueFilters, Label=Due &Today}
            CheckBoxAttachedLabel: right
        chkOverdue: {OnChange=SetDueFilters, Label=&Overdue, CheckBoxAttachedLabel=right}        
        chkDueFuture: {OnChange=SetDueFilters}
            Label: Due &Within
            CheckBoxAttachedLabel: right
            Controls: [nudNumberTimeUnits, cmbTimeUnit]
            ControlsOrientation: horizontal
            
        nudNumberTimeUnits: {OnChange=SetDueFilters, NoLabel=true}
            Width:50
        cmbTimeUnit: {OnChange=SetDueFilters}
            NoLabel: true
            OptionalValues: [=Days, Weeks, Months]
            Width:70
        pnlSearchButtons:
            Controls: [btnSearch]
            ControlsOrientation: horizontal
            Dock: Top
            Margin: 0
        btnSearch: {Action=actSearch, AcceptButton=true}
        tabSearchResult:
            Controls: [tpgSuppliers, tpgOutstandingInvoices]
            Dock: Fill
            Action:actTabChange
        tpgSuppliers:
            Controls: [pnlSupplierOptions, grdSupplierResult]
        tpgOutstandingInvoices:
            Controls: [pnlTaggingOptions, grdInvoiceResult]
        pnlSupplierOptions:
            ControlsOrientation: horizontal
            Controls: [chkShowOutstandingAmounts, chkHideInactiveSuppliers, cmbSupplierCurrency]
            Dock: Top
            Height: 30
            Margin: 0
        grdSupplierResult: {Dock=Fill, ActionDoubleClick=actSupplierTransactions, SelectedRowActivates=cndSelectedSupplier}

        grdInvoiceResult: {Dock=Fill, ActionDoubleClick=actShowInvoice}
        chkShowOutstandingAmounts: {Label=Show Outstanding &Amounts, CheckBoxAttachedLabel=right,  OnChange=SupplierOutstandingOpt, Enabled=false}
        chkHideInactiveSuppliers: {Label=Hide &Inactive Suppliers, CheckBoxAttachedLabel=right,  OnChange=SetSupplierFilters}
        cmbSupplierCurrency: {Label=C&urrency, List=CurrencyCodeList, OnChange=SetSupplierFilters, Width=200}
        pnlTaggingOptions:
            Controls: [btnTagAllPostable, btnTagAllPayable, btnUntagAll, txtSumTagged, btnTagAllApprovable]
            ControlsOrientation: horizontal
            Dock: Top
            Height: 30
            Margin: 0
        btnTagAllApprovable: {Label=Tag all Appro&vable, Visible=false}
        btnTagAllPostable: {Label=Tag a&ll Postable}
            Action: actTagAllPostable
        btnTagAllPayable: {Label=Tag all Paya&ble}
            Action: actTagAllPayable
        btnUntagAll: {Label=&Untag all}
            Action: actUntagAll
        txtSumTagged: {Label=Sum of Tagged, ReadOnly=true}
    Toolbar:
        tbbNewSupplier: {Action=actNewSupplier}
        tbbEditSupplier: {Action=actEditSupplier}
        tbbSeparator: {Label=-}
        tbbTransactions: {Action=actSupplierTransactions}
        tbbSeparator: {Label=-}
        tbbCreateInvoice: {Action=actCreateInvoice}
        tbbCreateCreditNote: {Action=actCreateCreditNote}
        tbbPost: {Action=actPostSelected}
        tbbPay: {Action=actPaySelected}
    Menu:
        mniFile:
            mniReports: {Label=&Reports}
            mniReprintPaymentReport: {Label=Reprint Pa&yment Report}
            mniSeparator: {Label=-}
            mniImport: {Label=&Import}
            mniExport: {Label=&Export}
            mniSeparator: {Label=-}
            mniDefaults: {Label=AP &Defaults}
            mniSeparator: {Label=-}
        mniSupplier:
            mniNewSupplier: {Action=actNewSupplier}
            mniEditSupplier: {Action=actEditSupplier}
            mniSeparator: {Label=-}
            mniTransactions: {Action=actSupplierTransactions}
            mniCreateInvoice: {Action=actCreateInvoice}
            mniCreateCreditNote: {Action=actCreateCreditNote}
        mniInvoice:
            mniFind: {Action=actFindInvoice}
            mniPost: {Action=actPostSelected}
            mniPay: {Action=actPaySelected}
            mniReverse: {Action=actReverseTagged}
            mniDelete: {Action=actDeleteSelected}
